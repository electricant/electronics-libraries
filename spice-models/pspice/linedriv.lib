* Library of Line Drivers, Receivers and Transceivers
*
* $Revision:   1.1  $
* $Author:   rperez  $
* $Date:   17 Nov 1998 10:48:52  $
*$
*******************************************************************
.SUBCKT 26C31 INP1 INVOUT1 VOUT1 EN EN_BAR VCC GND
X1 INP1 INVOUT1 VOUT1   ENABLE VCC GND C31_CKT
C1 ENABLE GND 3P
*1.1P
X5 EN EN_BAR ENABLE VCC GND C31_ENA
.ENDS
***************
.SUBCKT 26C31_4 INP1 INVOUT1 VOUT1 EN EN_BAR VCC GND
+  INP2 INVOUT2 VOUT2 INP3 INVOUT3 VOUT3 INP4 INVOUT4 VOUT4  
X1 INP1 INVOUT1 VOUT1  ENABLE VCC GND C31_CKT
X2 INP2 INVOUT2 VOUT2  ENABLE VCC GND C31_CKT
X3 INP3 INVOUT3 VOUT3  ENABLE VCC GND C31_CKT
X4 INP4 INVOUT4 VOUT4  ENABLE VCC GND C31_CKT
X5 EN EN_BAR ENABLE VCC GND C31_ENA
.ENDS
**************
.SUBCKT C31_CKT INP INVOUT OUT  ENABLE VCC GND
XIN1 INP 1 VCC GND C31_INV2
XIN2 1   2 VCC GND C31_INV
XOUT1 2 INVOUT ENABLE VCC GND C31_OUT
XINV2 2 3 VCC GND C31_INV
XOUT 3  OUT ENABLE VCC GND C31_OUT
.ENDS
**************
.SUBCKT C31_OUT IN OUT ENABLE VCC GND
X1 IN 1 VCC GND C31_INV
X2   1  22 VCC GND C31_INV
X2A  1  22 VCC GND C31_INV
X2B  1  22 VCC GND C31_INV
X2C  1  22 VCC GND C31_INV
X3 ENABLE 4 VCC GND C31_INV
M1 6 ENABLE GND GND  MNC31 L=4U W=4500U
M2 OUT  22  6   6    MNC31 L=4U W=4500U
M3 OUT  22  5   5    MPC31 L=4U W=6500U
M4 5     4  VCC VCC  MPC31 L=4U W=6500U
.MODEL MNC31 NMOS LEVEL=1 VTO=1  KP=30U CGDO=.1N CGSO=.1N CGBO=1N
.MODEL MPC31 PMOS LEVEL=1 VTO=-1 KP=15U CGDO=.1N CGSO=.1N CGBO=1N
.ENDS
**************
.SUBCKT C31_ENA EN EN_BAR ENA VCC GND
X1 EN 1 VCC GND C31_INV2
X2 1 2 VCC GND C31_INV
X3 EN_BAR 3 VCC GND C31_INV2
M1 5 2 GND GND MNC31 L=6U W=12U
M2 5 3 GND GND MNC31 L=6U W=12U
M3 5 2 4   4   MPC31 L=6U W=24U
M4 4 2 VCC VCC MPC31 L=6U W=24U
X4 5 ENA VCC GND C31_INV
X5 5 ENA VCC GND C31_INV
X6 5 ENA VCC GND C31_INV
.MODEL MNC31 NMOS LEVEL=1 VTO=1  KP=30U CGDO=.1N CGSO=.1N CGBO=1N
.MODEL MPC31 PMOS LEVEL=1 VTO=-1 KP=15U CGDO=.1N CGSO=.1N CGBO=1N
.ENDS
**************
.SUBCKT C31_INV IN OUT VCC GND
M1 OUT IN GND GND MNC31 L=4U W=20U
M2 OUT IN VCC VCC MPC31 L=4U W=40U
.ENDS
**************
.SUBCKT C31_INV2 IN OUT VCC GND
M1 OUT IN GND GND MNC31 L=4U W=80U
M2 OUT IN VCC VCC MPC31 L=4U W=40U
.MODEL MNC31 NMOS LEVEL=1 VTO=1  KP=30U CGDO=.1N CGSO=.1N CGBO=1N
.MODEL MPC31 PMOS LEVEL=1 VTO=-1 KP=15U CGDO=.1N CGSO=.1N CGBO=1N
.ENDS
*$
*******************************************************************
.SUBCKT 26C32 INV1 NONINV1 VOUT1 EN EN_BAR VCC GND
X1 INV1 NONINV1  ENABLE VOUT1 VCC GND C32_CKT
X10 EN EN_BAR ENABLE VCC GND C32_ENA
C1 ENABLE GND 1.2P
.ENDS
*$
*******************************************************************
.SUBCKT 26C32_4 INV1 NONINV1 VOUT1 EN EN_BAR VCC GND
+INV2 NONINV2 VOUT2 INV3 NONINV3 VOUT3 INV4 NONINV4 VOUT4
X1 INV1 NONINV1  ENABLE VOUT1 VCC GND C32_CKT
X2 INV2 NONINV2  ENABLE VOUT2 VCC GND C32_CKT
X3 INV3 NONINV3  ENABLE VOUT3 VCC GND C32_CKT
X4 INV4 NONINV4  ENABLE VOUT4 VCC GND C32_CKT
X10 EN EN_BAR ENABLE VCC GND C32_ENA
.ENDS
***************
.SUBCKT C32_CKT INV NONINV  ENABLE OUT VCC GND
RIN1 VCC NONINV 10K
RIN2 INV GND 10K
E101 101 GND TABLE {V(INV,NONINV)} = (-0.1, .5) (0.1, 4.5)
RI101 101 102 1K
CI101 102 GND 15P
RI102 102 103 9K
X1 103 2  VCC GND C32_INV
X2 2  22 VCC GND C32_INV
X2A 2 22 VCC GND C32_INV
R22 22 103 50K
X3 ENABLE 4 VCC GND C32_INV
M1 6 ENABLE GND GND  MNC32 L=4U W=2000U
M2 OUT  22  6   6    MNC32 L=4U W=2000U
M3 OUT  22  5   5    MPC32 L=4U W=4000U
M4 5     4  VCC VCC  MPC32 L=4U W=4000U
.MODEL MNC32 NMOS LEVEL=1 VTO=1  KP=30U CGDO=.1N CGSO=.1N CGBO=1N
.MODEL MPC32 PMOS LEVEL=1 VTO=-1 KP=15U CGDO=.1N CGSO=.1N CGBO=1N
.ENDS
**************
.SUBCKT C32_ENA EN EN_BAR ENA VCC GND
X1 EN 1 VCC GND C32_INV2
X2 1 2 VCC GND C32_INV
X3 EN_BAR 3 VCC GND C32_INV2
M1 5 2 GND GND MNC32 L=6U W=12U
M2 5 3 GND GND MNC32 L=6U W=12U
M3 5 2 4   4   MPC32 L=6U W=24U
M4 4 2 VCC VCC MPC32 L=6U W=24U
X4 5 ENA VCC GND C32_INV
X5 5 ENA VCC GND C32_INV
.MODEL MNC32 NMOS LEVEL=1 VTO=1  KP=30U CGDO=.1N CGSO=.1N CGBO=1N
.MODEL MPC32 PMOS LEVEL=1 VTO=-1 KP=15U CGDO=.1N CGSO=.1N CGBO=1N
.ENDS
**************
.SUBCKT C32_INV IN OUT VCC GND
M1 OUT IN GND GND MNC32 L=4U W=20U
M2 OUT IN VCC VCC MPC32 L=4U W=40U
.ENDS
**************
.SUBCKT C32_INV2 IN OUT VCC GND
M1 OUT IN GND GND MNC32 L=4U W=80U
M2 OUT IN VCC VCC MPC32 L=4U W=40U
.MODEL MNC32 NMOS LEVEL=1 VTO=1  KP=30U CGDO=.1N CGSO=.1N CGBO=1N
.MODEL MPC32 PMOS LEVEL=1 VTO=-1 KP=15U CGDO=.1N CGSO=.1N CGBO=1N
.ENDS
*$
******************************************************************
.SUBCKT 75C188_1 VIN VOUT VCC GND VEE
* SINGLE INPUT
Q8    6   6   7 QC188P_1
Q9    8   6 VCC QC188P_1
V2   19   0 1.4
V3  VCC   1 1.4
Q14 VCC   8  12 QC188N_1
Q12  10   9 VEE QC188N_1
M13  11   6 VCC VCC MC188P_1
Q10   6   4 VEE QC188N_1
Q11  11  10   9 QC188N_1
C1   11   5  5P
R4    9 VEE  72
Q2    4   3   3 QC188P_1
R5  VCC   7 400
Q3    3   1   2 QC188P_1
Q1    4   4 VEE QC188N_1
Q6    5  19   3 QC188P_1
Q7    8   5  10 QC188N_1
R1  VCC   2 10K
R2 VOUT  12 160
Q4    4 VIN   3 QC188P_1
R3   12  11  74
Q5    5   4 VEE QC188N_1
*
.MODEL MC188P_1 PMOS ( LEVEL= 1 VTO= -1 L=5U  W=10U) 
.MODEL QC188N_1 NPN (BF=80 BR=.1 RB=50 RC=10 CJE=.75P CJC=.65P TF=.8N)
.MODEL QC188P_1 PNP (BF=20 RB=100 RC=15 CJE=1P CJC=1P TF=230N)
.ENDS
*$
******************************************************************
.SUBCKT 75C188_2 VIN1 VIN2 VOUT VCC GND VEE
* TWO INPUT VERSION
Q8 6 6 7 QC188P_2
Q9 8 6 VCC QC188P_2
V2 19 0 1.4
V3  VCC 1 1.4
Q14 VCC 8 12 QC188N_2
Q12 10 9 VEE QC188N_2
M13 11 6 VCC VCC MC188P_2
Q10 6 4 VEE QC188N_2
Q11 11 10 9 QC188N_2
C1 11 5 5P
R4 9 VEE 72
Q2 4 VIN2 3 QC188P_2
R5 VCC 7 400
Q3 3 1 2 QC188P_2
Q1 4 4 VEE QC188N_2
Q6 5 19 3 QC188P_2
Q7 8 5 10 QC188N_2
R1 VCC 2 10K
R2 VOUT 12 160
Q4 4 VIN1 3 QC188P_2
R3 12 11 74
Q5 5 4 VEE QC188N_2
*
.MODEL MC188P_2 PMOS ( LEVEL= 1 VTO= -1 L=5U  W=10U) 
.MODEL QC188N_2 NPN (BF=80 BR=.1 RB=50 RC=10 CJE=.75P CJC=.65P TF=.8N)
.MODEL QC188P_2 PNP (BF=20 RB=100 RC=15 CJE=1P CJC=1P TF=230N)
.ENDS
*$
******************************************************************
.SUBCKT 75C189 INPUT OUT CONT VCC GND
*
E1 3 GND TABLE {V(CONT,GND)} = (.20,0) (.27,5)
MQ2 5 4 VCC VCC C189MP L=4U W=60U
MQ1 5 4 GND GND C189MN L=4U W=30U
R4 4 44 1OK
C4 44 GND 200P
MQ3 44 3 GND GND C189MN L=4U W=10U
MQ5 44 3 VCC VCC C189MP L=4U W=20U
MQ6 OUT 5 VCC VCC C189MP L=4U W=200U
MQ7 OUT 5 GND GND C189MN L=4U W=400U
R1 2 GND 550
R2 INPUT CONT 3.5K
MQ4 CONT 4 2 GND C189MN L=4U W=40U
R3 CONT 2 1.5K
*
.MODEL C189MN NMOS LEVEL=1 VTO=1  KP=25U CGDO=.2N
.MODEL C189MP PMOS LEVEL=1 VTO=-1  KP=12U CGDO=.2N
.ENDS
*$
******************************************************************
.SUBCKT ADM485 RO RE DE DI GND A B VCC
*
RINA A GND 12K
RINB B GND 12K
E1   1  GND  TABLE { V(A,B) } ( (-.1,.1) (.1, 4.9) )
RD 1 2 1K
CD 2 GND 15P
XA1 2 3 VCC GND INV485
XA2 3 6 VCC GND INV485
RHYS 3 7 800
RP VCC GND 5K
X1  6   7 VCC GND INV485
X13 RE 13 VCC GND INV485	
X2  13  8 VCC GND INV485
X3  8   9 VCC GND INV485
M1 10 8 VCC VCC M485P L=3U W=200U  AD=600P
M2 RO 7 10  10  M485P L=3U W=200U  AD=600P
M3 RO 7 11  11  M485N L=3U W=100U  AD=300P
M4 11 9 GND GND M485N L=3U W=100U  AD=300P
* DRIVER
M21 21 DI GND GND M485N L=3U W=10U
M22 21 DI VCC VCC M485P L=3U W=40U
X10 21 22 VCC GND INV485
* A AND B OUTPUTS
X21 21 A DE VCC GND BUFF485
X22 22 B DE VCC GND BUFF485
*
.MODEL M485N NMOS LEVEL=3 VTO=0.8 TOX=5E-8 NSUB=1E17 
+XJ=1.5U LD=0.3U KP=40U RSH=5 CJ=3E-4 CJSW=3E-10
+KAPPA=1 THETA=1E-4 ETA=1.4 GAMMA=1.1 VMAX=4E5
*
.MODEL M485P PMOS LEVEL=3 VTO=-1.2 TOX=5E-8 NSUB=3E15 
+XJ=0.7U LD=0.3U KP=18U RSH=5 CJ=1.8E-4 CJSW=2E-10
+KAPPA=.33 THETA=4E-2 ETA=0.6 GAMMA=0.6
.ENDS
***************
.SUBCKT BUFF485 IN DO DE VCC GND
* IN=BUFF_IN, DO=BUFF_OUT, DE=ENABLE
X1  IN   7 VCC GND INV485	
X2  DE  8 VCC GND INV485
X3  8   9 VCC GND INV485
M1 10 8 VCC VCC M485P L=3U W=800U  AD=600P
M2 DO 7 10  10  M485P L=3U W=800U  AD=600P
M3 DO 7 11  11  M485N L=3U W=400U  AD=300P
M4 11 9 GND GND M485N L=3U W=400U  AD=300P
*
.MODEL M485N NMOS LEVEL=3 VTO=0.8 TOX=5E-8 NSUB=1E17 
+XJ=1.5U LD=0.3U KP=40U RSH=5 CJ=3E-4 CJSW=3E-10
+KAPPA=1 THETA=1E-4 ETA=1.4 GAMMA=1.1 VMAX=4E5
*
.MODEL M485P PMOS LEVEL=3 VTO=-1.2 TOX=5E-8 NSUB=3E15 
+XJ=0.7U LD=0.3U KP=18U RSH=5 CJ=1.8E-4 CJSW=2E-10
+KAPPA=.33 THETA=4E-2 ETA=0.6 GAMMA=0.6
.ENDS
***************
.SUBCKT INV485 1 2 3 4
* 1=INPUT, 2=OUTPUT, 3=VCC, 4=GND
M1 2 1 3 3 M485P L=3U W=75U  AD=200P
M2 2 1 4 4 M485N L=3U W=30U  AD=100P
.MODEL M485N NMOS LEVEL=3 VTO=0.8 TOX=5E-8 NSUB=1E17 
+XJ=1.5U LD=0.3U KP=40U RSH=5 CJ=3E-4 CJSW=3E-10
+KAPPA=1 THETA=1E-4 ETA=1.4 GAMMA=1.1 VMAX=4E5
*
.MODEL M485P PMOS LEVEL=3 VTO=-1.2 TOX=5E-8 NSUB=3E15 
+XJ=0.7U LD=0.3U KP=18U RSH=5 CJ=1.8E-4 CJSW=2E-10
+KAPPA=.33 THETA=4E-2 ETA=0.6 GAMMA=0.6
.ENDS
*$
******************************************************************
.SUBCKT DS14C88_1 1 2 14 13 7
* SINGLE INPUT VERSION
* 1 INPUT 
* 2 OUTPUT
* 14 VCC
* 13 VEE
* 7 GROUND
*
X1  1 11 14  7   IN14C88
X2 11 14 21 14 7 NAND14C88
X3 21  2 14 13   OUT_C88
.ENDS
****************
.SUBCKT IN14C88 1 2 14 7
* 1 INPUT 
* 2 OUTPUT
* 14 VCC
* 7 GROUND
*
R2 11 1 2K 
D1 7 11 D14C88
D2 11 14 D14C88
M1 12 11  7 7 MN1488 L=7U W=14U AD=200P AS=200P PD=50U PS=50U
M2 12 44 14 14 MP1488 L=7U W=10U AD=100P AS=100P PD=40U PS=40U
V1 14 44 2
* 
M4 2 12 14 14 MP1488 L=7U W=20U AD=300P AS=300P PD=80U PS=80U
M5 2 12 7 7 MN1488 L=7U W=10U  AD=100P AS=100P PD=40U PS=40U
*
.MODEL D14C88 D (RS=25 CJO=2P)
.MODEL MN1488 NMOS LEVEL=2 VTO=1.0 TOX=1000E-10 NSUB=4.7E16
+XJ=3U LD=2U UO=625 UCRIT=1E5 UEXP=0.45 UTRA=0.25 RSH=15 
+NEFF=2.5 VMAX=1E6 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=2F
+NFS=4E12  GAMMA=2.2 LAMBDA=0.02
*
.MODEL MP1488 PMOS LEVEL=2 VTO=-1.0 TOX=1000E-10 NSUB=7.6E15
+XJ=3U LD=1.5U UO=225 UCRIT=3E5 UEXP=.5 UTRA=0.25 RSH=15
+NEFF=2.5 VMAX=1E5 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=1F
+NFS=1E12  GAMMA=1.8 LAMBDA=0.02
.ENDS
****************
.SUBCKT NAND14C88 1 2 3 14 7
* 1 INPUT 
* 2 INPUT
* 3 OUTPUT
* 14 VCC
* 7 GROUND
*
M1 3  1  14 14 MP1488 L=7U W=20U AD=300P AS=300P PD=80U PS=80U
M2 3  2  14 14 MP1488 L=7U W=20U AD=300P AS=300P PD=80U PS=80U
M7 3  1  12  7 MN1488 L=7U W=10U AD=100P AS=100P PD=40U PS=40U
M8 12 2   7  7 MN1488 L=7U W=10U AD=100P AS=100P PD=40U PS=40U
*
.MODEL MN1488 NMOS LEVEL=2 VTO=1.0 TOX=1000E-10 NSUB=4.7E16
+XJ=3U LD=2U UO=625 UCRIT=1E5 UEXP=0.45 UTRA=0.25 RSH=15 
+NEFF=2.5 VMAX=1E6 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=2F
+NFS=4E12  GAMMA=2.2 LAMBDA=0.02
*
.MODEL MP1488 PMOS LEVEL=2 VTO=-1.0 TOX=1000E-10 NSUB=7.6E15
+XJ=3U LD=1.5U UO=225 UCRIT=3E5 UEXP=.5 UTRA=0.25 RSH=15
+NEFF=2.5 VMAX=1E5 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=1F
+NFS=1E12  GAMMA=1.8 LAMBDA=0.02
.ENDS
****************
.SUBCKT OUT_C88 1 2 14 13
* 1 INPUT
* 2 OUTPUT
* 14 VCC
* 13 VEE
* LEVEL SHIFT  WN=14U
M1 12 44 13 13 MN1488 L=7U W=60U AD=500P AS=500P PD=120U PS=120U
M2 12  1 14 14 MP1488 L=12U W=8U AD=100P AS=100P PD=40U  PS=40U
V1 44 13 DC 1.4
* SLEW RATE CONTROL
R1 12 22 1K
C1 22 2 5P
* OUTPUT
M10 2 22 14 14  MP1488 L=7U W=100U  AD=1000P AS=1000P PD=220U PS=220U
M11 2 22 13 13  MN1488 L=7U W=20U   AD=500P  AS=500P  PD=120U PS=120U
*
.MODEL MN1488 NMOS LEVEL=2 VTO=1.0 TOX=1000E-10 NSUB=4.7E16
+XJ=3U LD=2U UO=625 UCRIT=1E5 UEXP=0.45 UTRA=0.25 RSH=15 
+NEFF=2.5 VMAX=1E6 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=2F
+NFS=4E12  GAMMA=2.2 LAMBDA=0.02
*
.MODEL MP1488 PMOS LEVEL=2 VTO=-1.0 TOX=1000E-10 NSUB=7.6E15
+XJ=3U LD=1.5U UO=225 UCRIT=3E5 UEXP=.5 UTRA=0.25 RSH=15
+NEFF=2.5 VMAX=1E5 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=1F
+NFS=1E12  GAMMA=1.8 LAMBDA=0.02
.ENDS
*$
******************************************************************
.SUBCKT DS14C89A 1 2 14 7
*
* 1 INPUT 
* 2 OUTPUT
* 14 VCC
* 7 GROUND
*
R1 1 7 4K
R2 11 1 10K 
D1 7 11 D14C89
D2 11 14 D14C89
M1 12 11  7 7 MN1489 L=7U W=30U AD=300P AS=300P PD=80U PS=80U
M2 12 44 14 14 MP1489 L=7U W=10U AD=100P AS=100P PD=40U PS=40U
V1 14 44 2
M3A 45 44 14 14 MP1489 L=7U W=60U AD=600P AS=600P PD=140U PS=140U
M3B 12 13 45 14 MP1489 L=7U W=60U AD=600P AS=600P PD=140U PS=140U
M4 13 12 14 14 MP1489 L=7U W=20U AD=300P AS=300P PD=80U PS=80U
M5 13 12 7 7 MN1489 L=7U W=10U  AD=100P AS=100P PD=40U PS=40U
M6 84 13 14 14 MP1489 L=7U W=20U AD=300P AS=300P PD=80U PS=80U
M7 84 13 7 7 MN1489 L=7U W=10U AD=100P AS=100P PD=40U PS=40U
R3 84 24 10K
C3 24  0 100P
M8 25 24 14 14 MP1489 L=7U W=20U
M9 25 24  7 7 MN1489 L=7U W=10U
M10 2 25 14 14 MP1489 L=7U W=100U
M11 2 25  7  7 MN1489 L=7U W=50U
*
.MODEL D14C89 D (RS=25 CJO=2P)
.MODEL MN1489 NMOS LEVEL=2 VTO=1.0 TOX=1000E-10 NSUB=4.7E16
+XJ=3U LD=2U UO=625 UCRIT=1E5 UEXP=0.45 UTRA=0.25 RSH=15 
+NEFF=2.5 VMAX=1E6 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=2F
+NFS=4E12  GAMMA=2.2 LAMBDA=0.02
*
.MODEL MP1489 PMOS LEVEL=2 VTO=-1.0 TOX=1000E-10 NSUB=7.6E15
+XJ=3U LD=1.5U UO=225 UCRIT=3E5 UEXP=.5 UTRA=0.25 RSH=15
+NEFF=2.5 VMAX=1E5 CGBO=3E-10 CGDO=10E-10 CGSO=10E-10 CJSW=1F
+NFS=1E12  GAMMA=1.8 LAMBDA=0.02
.ENDS
*$
******************************************************************
.SUBCKT LTC485 RO RE DE DI GND A B VCC
*
RINA A GND 12K
RINB B GND 12K
E1   1  GND  TABLE { V(A,B) } ( (-.1,.1) (.1, 4.9) )
RD 1 2 1K
CD 2 GND 25P
XA1 2 3 VCC GND INV485L
XA2 3 6 VCC GND INV485L
RHYS 3 7 3.5K
X1  6   7 VCC GND INV485L
X13 RE 13 VCC GND INV485L	
X2  13  8 VCC GND INV485L
X3  8   9 VCC GND INV485L
M1 10 8 VCC VCC M485LP L=5U W=200U  AD=600P
M2 RO 7 10  10  M485LP L=5U W=200U  AD=600P
M3 RO 7 11  11  M485LN L=5U W=100U  AD=300P
M4 11 9 GND GND M485LN L=5U W=100U  AD=300P
* DRIVER
M21 21 DI GND GND M485LN L=5U W=10U
M22 21 DI VCC VCC M485LP L=5U W=40U
X10 21 22 VCC GND INV485L
* A AND B OUTPUTS
X21 21 A DE VCC GND BUFF485L
X22 22 B DE VCC GND BUFF485L
*
.MODEL M485LN NMOS LEVEL=3 VTO=0.8 TOX=5E-8 NSUB=1E17 
+XJ=1.5U LD=0.3U KP=40U RSH=5 CJ=3E-4 CJSW=3E-10
+KAPPA=1 THETA=1E-4 ETA=1.4 GAMMA=1.1 VMAX=4E5
*
.MODEL M485LP PMOS LEVEL=3 VTO=-1.2 TOX=5E-8 NSUB=3E15 
+XJ=0.7U LD=0.3U KP=18U RSH=5 CJ=1.8E-4 CJSW=2E-10
+KAPPA=.33 THETA=4E-2 ETA=0.6 GAMMA=0.6
.ENDS
****************
.SUBCKT BUFF485L IN DO DE VCC GND
* IN=BUFF_IN, DO=BUFF_OUT, DE=ENABLE
X1  IN   7 VCC GND INV485L
C1 7 GND 2P	
X2  DE  8 VCC GND INV485L
X3  8   9 VCC GND INV485L
M1 10 8 VCC VCC M485LP L=3U W=1200U  AD=1200P
M2 DO 7 10  10  M485LP L=3U W=1200U  AD=1200P
M3 DO 7 11  11  M485LN L=3U W=500U  AD=600P
M4 11 9 GND GND M485LN L=3U W=500U  AD=600P
*
.MODEL M485LN NMOS LEVEL=3 VTO=0.8 TOX=5E-8 NSUB=1E17 
+XJ=1.5U LD=0.3U KP=40U RSH=5 CJ=3E-4 CJSW=3E-10
+KAPPA=1 THETA=1E-4 ETA=1.4 GAMMA=1.1 VMAX=4E5
*
.MODEL M485LP PMOS LEVEL=3 VTO=-1.2 TOX=5E-8 NSUB=3E15 
+XJ=0.7U LD=0.3U KP=18U RSH=5 CJ=1.8E-4 CJSW=2E-10
+KAPPA=.33 THETA=4E-2 ETA=0.6 GAMMA=0.6
.ENDS
****************
.SUBCKT INV485L 1 2 3 4
* 1=INPUT, 2=OUTPUT, 3=VCC, 4=GND
M1 2 1 3 3 M485LP L=5U W=50U  AD=200P
M2 2 1 4 4 M485LN L=5U W=20U  AD=100P
*
.MODEL M485LN NMOS LEVEL=3 VTO=0.8 TOX=5E-8 NSUB=1E17 
+XJ=1.5U LD=0.3U KP=40U RSH=5 CJ=3E-4 CJSW=3E-10
+KAPPA=1 THETA=1E-4 ETA=1.4 GAMMA=1.1 VMAX=4E5
*
.MODEL M485LP PMOS LEVEL=3 VTO=-1.2 TOX=5E-8 NSUB=3E15 
+XJ=0.7U LD=0.3U KP=18U RSH=5 CJ=1.8E-4 CJSW=2E-10
+KAPPA=.33 THETA=4E-2 ETA=0.6 GAMMA=0.6
.ENDS
*$
******************************************************************
.SUBCKT MC10116 4 2 3 5 9 6 7 10 12 14 15 13 16 1 8 11
X1  4  2  3  5 16 1 8 31 M10116X
X2  9  6  7 10 16 1 8 31 M10116X
X3 12 14 15 13 16 1 8 31 M10116X
* BIAS GENERATOR
R4 16 32 700
R5 32 33 2.6K
D1 33 34 D10116
D2 34 35 D10116
R6 35 8 2.4K
Q7 16 32 11 Q10116
Q6 11 33 31 Q10116
R7 31 8 1.6K
.MODEL Q10116 NPN (BF=80 BR=.1 RB=50 RC=10 CJE=.75P CJC=.65P TF=.2N)
.MODEL D10116 D (RS=25 CJO=2P)
.ENDS
****************
.SUBCKT M10116X 4 2 3 5 16 1 8 31
Q1 21 4 22 Q10116 0.5
Q3 23 5 22 Q10116 0.5
Q2 22 31 24 Q10116
R1 16 21 205
*350
R2 16 23 205
*350
R3 24 8 280
*480
Q4 1 23 2 Q10116 2
Q5 1 21 3 Q10116 2
R98 2 8 100MEG
R99 3 8 100MEG
*
.MODEL Q10116 NPN (BF=80 BR=.1 RB=50 RC=10 CJE=.75P CJC=.65P TF=.2N)
.ENDS
*$
******************************************************************
.SUBCKT MC10216 4 2 3 5 9 6 7 10 12 14 15 13 16 1 8 11
X1  4  2  3  5 16 1 8 31 M10216X
X2  9  6  7 10 16 1 8 31 M10216X
X3 12 14 15 13 16 1 8 31 M10216X
* BIAS GENERATOR
R4 16 32 700
R5 32 33 2.6K
D1 33 34 D10216
D2 34 35 D10216
R6 35 8 2.4K
Q7 16 32 11 Q10216
Q6 11 33 31 Q10216
R7 31 8 1.6K
.MODEL Q10216 NPN (BF=80 BR=.1 RB=25 RC=5 CJE=.75P CJC=.65P TF=.15N)
.MODEL D10216 D (RS=25 CJO=2P)
.ENDS
****************
.SUBCKT M10216X 4 2 3 5 16 1 8 31
Q1 21 4 22 Q10216 0.5
Q3 23 5 22 Q10216 0.5
Q2 22 31 24 Q10216
R1 16 21 175
*350
R2 16 23 175
*350
R3 24 8 240
*480
Q4 1 23 2 Q10216 2
Q5 1 21 3 Q10216 2
R98 2 8 100MEG
R99 3 8 100MEG
*
.MODEL Q10216 NPN (BF=80 BR=.1 RB=25 RC=5 CJE=.75P CJC=.65P TF=.15N)
.ENDS
*$
******************************************************************
.SUBCKT MC10H116 4 2 3 5 9 6 7 10 12 14 15 13 16 1 8 11
X1  4  2  3  5 16 1 8 31 M10H116X
X2  9  6  7 10 16 1 8 31 M10H116X
X3 12 14 15 13 16 1 8 31 M10H116X
* BIAS GENERATOR
R4 16 32 700
R5 32 33 2.6K
D1 33 34 D10H116
D2 34 35 D10H116
R6 35 8 2.4K
Q7 16 32 11 Q10H116
Q6 11 33 31 Q10H116
R7 31 8 1.6K
*
.MODEL Q10H116 NPN (BF=180 BR=.1 VAF=200 RB=10 RC=2 
+CJE=.4P CJC=.4P TF=.05N)
.MODEL D10H116 D (RS=25 CJO=2P)
.ENDS
****************
.SUBCKT M10H116X 4 2 3 5 16 1 8 31
Q1 21 4 22 Q10H116 0.25
Q3 23 5 22 Q10H116 0.25
Q2 22 31 24 Q10H116
R1 16 21 205
R2 16 23 205
R3 24 8 280
Q4 1 23 2 Q10H116 
*2
Q5 1 21 3 Q10H116 
*2
R98 2 8 100MEG
R99 3 8 100MEG
*
.MODEL Q10H116 NPN (BF=180 BR=.1 VAF=200 RB=10 RC=2 
+CJE=.4P CJC=.4P TF=.05N)
.ENDS
*$
*******************************************************************
.SUBCKT MC1488  1 2 3 4 5 6 7 8 9 10 11 12 13 14
X1  2  2  3 14 7 1 X1488
X2  4  5  6 14 7 1 X1488
X3 13 12 11 14 7 1 X1488
X4 10  9  8 14 7 1 X1488 
.ENDS
**************
.SUBCKT X1488 4 5 6 14 7 1
* TWO INPUT DRIVER
* FOR SINGLE INPUT, TIE INPUTS TOGETHER
* 4 INPUT
* 5 INPUT
* 6 OUTPUT
* 14 VCC
* 7 GROUND
* 1 VEE
R1 14 100 8.2K
D1 100 4 D1488
D2 100 5 D1488
D3 100 110 D1488
D4 110 111 D1488
QP 101 7 111 Q1488P
R2 111 7 3.6K
R3 101 1 10K
R4 14 102 6.2K
R5 103 116 70
R6 105 1 7K
R7 106 1 70
Q1 102 101 105 Q1488  0.25
Q2 101 106 1 Q1488   0.25
Q3 14 102 103 Q1488 4
Q4 104 105 106 Q1488 2
D5 102 104 D1488
D6 104 116 D1488
D7 116 104 D1488
D8 116 14 D1488
D9 1 116 D1488
ROUT 116 6 300
RX 6 7 1G
.MODEL D1488 D (RS=25 CJO=2P)
.MODEL Q1488 NPN (BF=80 BR=4 RB=5 RC=1 CJE=1P CJC=.3P  TF=1N)
.MODEL Q1488P PNP (BF=20 RB=100 RC=15 CJE=1P CJC=1P TF=230N)
.ENDS
*$
******************************************************************
.SUBCKT MC1489  1 2 3 7 14
*  1  INPUT
*  2  RESPONSE CONTROL
*  3  OUTPUT
*  7  GROUND
* 14  VCC
RIN 1  2 3.56K
R9  2  7 10K
RF  2  6 10K
C1  5  7 2P                             
C2  6  7 1P
R1  5 14 9K
R2  6 14 5K
J1 14  7 3 J1489
.MODEL J1489 NJF (VTO=-6 BETA=105U)
D1 7 2   D1489
Q1 5 2 7 Q1489 .25 
Q2 6 5 7 Q1489 .25 
Q3 3 6 7 Q1489 
*
.MODEL D1489 D 
.MODEL Q1489 NPN (BF=160 BR=1 RB=20 RC=5 CJE=1P CJC=1P CJS=1P TF=1.2N)
.ENDS
*$
******************************************************************
.SUBCKT MC1489A  1 2 3 7 14
*  1  INPUT
*  2  RESPONSE CONTROL
*  3  OUTPUT
*  7  GROUND
* 14  VCC
R1 1 2 3.56K
R2 2 7 10K
RF 2 6 2.5K
RC1 5 14 9K
RC2 6 14 5K
RC3 3 14 1.6K
D1 7 2 D1489A
Q1 5 2 7 Q1489A .25
Q2 6 5 7 Q1489A .25
Q3 3 6 7 Q1489A
.MODEL D1489A D (RS=25 CJO=1P)
.MODEL Q1489A NPN (BF=160 BR=1 RB=20 RC=5 CJE=1P CJC=1P CJS=1P TF=1.2N)
.ENDS
*$
******************************************************************
*
.SUBCKT SN55107A 1 2 4 5 6 14 13 7
* 1 INPUT A
* 2 INPUT B
* 4 OUTPUT
* 5 STROBE G
* 6 STR0BE S
* 14 VCC+
* 13 VCC-
* 7 GROUND
X1 1 2 20 14 13 7 DIFIN107A
X2 20 5 6 4 14 7 NAND107A
.ENDS
****************
.SUBCKT NAND107A 1 2 3 4 14 7
* 1 INPUT A
* 2 INPUT B
* 3 INPUT C
* 4 OUTPUT
* 14 VCC
* 7 GROUND
D1 7 1 D107A
D2 7 2 D107A
D3 7 3 D107A
Q1 12 11 1 Q107A .25
Q2 12 11 2 Q107A .25
Q3 12 11 3 Q107A .25
R1 14 11 4K
R2 14 17 1.6K
Q4 17 12 13 Q107A
R4 14 15 120
Q5 15 17 16 Q107A .5
R5 16 4 8K
Q6 15 16 4 Q107A
R3 13 7 1K
Q7 4 13 7 Q107AA 4
*
.MODEL D107A D (RS=25 CJO=2P)
.MODEL Q107A NPN (BF=80 BR=.1 RB=25 RC=10 CJE=.75P CJC=.65P TF=.85N)
.MODEL Q107AA NPN (BF=80 BR=.1 RB=25 RC=5 CJE=.75P CJC=.65P TF=.5N)
.ENDS
****************
.SUBCKT DIFIN107A 1 2 3 14 13 7
* 1 INPUT A
* 2 INPUT B
* 3 OUTPUT
* 14 VCC+
* 13 VCC-
* 7 GROUND
*DIFF INPUT
Q1 21 1 8 Q107A .25
Q2 22 2 8 Q107A .25
R1 14 21 1K
R2 14 22 1K
*LEVEL SHIFT
Q3 14 21 23 Q107A .25
Q4 14 22 24 Q107A .25
D1 25 23 DZ107A
D2 26 24 DZ107A
*
.MODEL DZ107A D (RS=25 CJO=2P BV=6.3 IBV=1U)
R3 25 13 3K
R4 26 13 3K
* OUTPUT
Q5 7 25 9 Q107A .5
Q6 28 26 9 Q107A .5
R5 14 27 400
R6 27 28 4.8K
Q7 27 28 3 Q107A .5
R7 3 7 760
* CURRENT SOURCES
R10 7 10 4.25K
Q10 10 10 13 Q107A
Q11  9 10 13 Q107A
Q12  8 10 13 Q107A
*
.MODEL Q107A NPN (BF=80 BR=.1 RB=25 RC=10 CJE=.75P CJC=.65P TF=.85N)
.ENDS
*$
******************************************************************
.SUBCKT SN55114 1 41 2 42 3 31 32 8 4
* 1  Z-OUTPUT PULL-UP
* 41 Z-OUTPUT SINK
* 2  Y-OUTPUT PULL-UP
* 42 Y-OUTPUT SINK
* 3  INPUT A
* 31 INPUT B
* 32 INPUT C
* 8 VCC
* 4 GROUND
R1 8 11 600
D1 11 12 D114
D2 12 13 D114
D3 13 14 D114
D4 14 4 D114
Q3 8 11 15 Q114
R2 15 16 600
R3 15 17 600
Q1 16 20 18 Q114  .5
Q2 17 13 18 Q114  .5
R5 8 19 4K
R4 18 4 333
Q4 20 19 3 Q114 .25
Q5 20 19 13 Q114 .25
D5 4 3 D114
Q6 20 19 31 Q114 .25
D6 4 31 D114
Q7 20 19 32 Q114 .25
D7 4 32 D114
X1 16 2 42 8 4 OUT114
X2 17 1 41 8 4 OUT114
*
.MODEL D114 D (RS=25 CJO=2P)
.MODEL Q114 NPN (BF=80 BR=.1 RB=25 RC=10 CJE=.75P CJC=.65P TF=.85N)
.ENDS
****************
.SUBCKT OUT114 1 2 22 8 4
* 1 INPUT
* 2 OUTPUT - pull-up
* 22 OUTPUT - sink
* 8 VCC
* 4 GROUND
Q1 8 1 20 Q114 
R1 20 3 90
R2 3 4 500
R3 8 5 1K
R4 20 6 900
R5 6 4 5K
Q2 5 6 4 Q114  
Q6 5 13 2 Q114  .25
Q5 8 5 12 Q114 
R7 12 4 4K
Q3 8 12 13 Q114  4
R9 13 2 9
Q4 22 3 4 Q114  4
D1 2 8 D114
D2 4 22 D114
*
.MODEL D114 D (RS=25 CJO=2P)
.MODEL Q114 NPN (BF=80 BR=.1 RB=25 RC=10 CJE=.75P CJC=.65P TF=.85N)
.ENDS
*$
******************************************************************
.SUBCKT SN55158 1 2 3 8 4
* 1 Z-OUTPUT
* 2 Y-OUTPUT
* 3 INPUT
* 8 VCC
* 4 GROUND
R1 8 11 600
D1 11 12 D158
D2 12 13 D158
D3 13 14 D158
D4 14 4 D158
Q3 8 11 15 Q158
R2 15 16 600
R3 15 17 600
Q1 16 20 18 Q158  .5
Q2 17 13 18 Q158  .5
R5 8 19 4K
R4 18 4 333
Q4 20 19 3 Q158 .25
Q5 20 19 13 Q158 .25
D5 4 3 D158
X1 16 2 8 4 OUT158
X2 17 1 8 4 OUT158
*
.MODEL D158 D (RS=25 CJO=2P)
.MODEL Q158 NPN (BF=80 BR=.1 RB=50 RC=10 CJE=.75P CJC=.65P TF=.5N)
.ENDS
****************
.SUBCKT OUT158 1 2 8 4
* 1 INPUT 
* 2 OUTPUT
* 8 VCC
* 4 GROUND
Q1 8 1 20 Q158 
R1 20 3 90
R2 3 4 500
R3 8 5 1K
R4 20 6 900
R5 6 4 5K
Q2 5 6 4 Q158  
D1 5 9 D158
R6 9 10 1000
Q6 10 11 2 Q158  .25
Q5 8 5 12 Q158 
R7 12 4 4K
R8 13 11 100
Q3 8 12 13 Q158  4
R9 13 2 9
Q4 2 3 4 Q158  4
*
.MODEL D158 D (RS=25 CJO=2P)
.MODEL Q158 NPN (BF=80 BR=.1 RB=50 RC=10 CJE=.75P CJC=.65P TF=.5N)
.ENDS
*$
******************************************************************
.SUBCKT SN75176A R RE DE D GND A B VCC
XREC A B R RE VCC GND R176
XDRIV B A D DE VCC GND D176
*
.ENDS
****************
.SUBCKT R176 A B R RE VCC GND
*
Q8 101 Q9_C 102 Q176
C8 Q9_C GND 2P
Q9 Q9_C 103 RE Q176
R8 VCC 101 3K
R9 VCC 103 15K
RHYS2 DIFF BB 35k
RHYS1 AA DIF2 35k
Q20 R27_N R27_N Q20_E Q176
Q16 R27_N Q20_E GND Q176
Q21 Q14_E Q20_E GND Q176
Q17 GND Q17_B R22_N Q176P
Q14 DIF2 VOS1_P Q14_E Q176 .5
R18 R14_N BB 33k
Q15 DIFF AA Q14_E q176 .5
R19 Q20_E GND 6.8k
R28 VCC R28_N 10k
R29 R28_N AA 33k
D8 R3_N REO D176
R12 E1_P BUFF 2.7k
R24 VCC Q18_B 9k
R25 Q18_E AA 960
R10 BB B 16.8k
R26 AA R26_N 960
R11 A AA 16.8k
R27 VCC R27_N 15k
R16 Q17_B GND 9k
R20 VCC Q4_B 9k
R17 VCC DIF2 5.6k
R21 Q4_E BB 960
R14 VCC R14_N 10k
R22 BB R22_N 960
D1 Q4_B D1_N D176
Q18 VCC Q18_B Q18_E Q176
R15 VCC DIFF 5.6k
R23 Q19_B GND 9k
Q19 GND Q19_B R26_N Q176P
D2 GND RE D176
D3 101 REO D176
E1 E1_P Q3E DIFF DIF2 2
D4 D6_N Q19_B D176
VOS1 VOS1_P BB 10m
D5 D1_N Q17_B D176
D6 Q18_B D6_N D176
D7 Q3E REO D176
Q2 R5_N Q5_E R Q176
R5 VCC R5_N 38
Q3 R3_N BUFF Q3E Q176
R6 Q3E R6_N 2K
Q1 R6_N R1_N GND Q176
R7 102 GND 1K
Q6 R Q3E GND Q176 2
R1 Q3E R1_N 4K
Q7 REO 102 GND Q176
Q4 VCC Q4_B Q4_E Q176
R2 Q5_E R 1K
Q5 R5_N R3_N Q5_E Q176
R3 VCC R3_N 4.5k
*
.MODEL Q176P PNP (BF=20 RB=100 RC=15 CJE=1P CJC=1P TF=230N)
.MODEL D176 D (IS=1N RS=25 CJO=2P)
.MODEL Q176 NPN (BF=120 BR=.1 RB=20 RC=4 CJE=.75P CJC=.65P TF=.5N)
.ENDS
****************
.SUBCKT D176 B A D DE VCC GND
EDI DI GND TABLE {V(D,GND)} = (0,3) (3,0)
X1 D B DE VCC GND DOUT176
X2 DI A DE VCC GND DOUT176
.ENDS
****************
.SUBCKT DOUT176 VIN VOUT DE VCC GND
Q8 11 17 12 Q176
Q9 17 14 DE Q176
R8 VCC 11 3K
R9 VCC 14 15K
Q10 1 16 GND Q176
C4 16 13 5P
Q11 3 15 GND Q176 
R10 16 13 500
C3 GND 13 5P
R11 15 13 500
D1 GND VIN D176
D2 GND DE D176
D3 11 13 D176
Q2 5 4 VOUT Q176 4
C2 2 GND 10P
R4 VCC 8 8K
Q3 1 2 3 Q176
R5 VCC 5 12
R6 3 9 2K
R7 12 GND 1K
Q1 9 6 GND Q176
Q6 VOUT 3 GND Q176 4
Q7 13 12 GND Q176
R1 3 6 4K
R2 4 VOUT 1K
Q4 2 8 VIN Q176
R3 VCC 1 3K
Q5 5 1 4 Q176
*
.MODEL D176 D (IS=1N RS=25 CJO=2P)
.MODEL Q176 NPN (BF=120 BR=.1 RB=20 RC=4 CJE=.75P CJC=.65P TF=.5N)
.MODEL Q176S NPN (BF=40 BR=.1 RB=20 RC=5 CJE=.75P CJC=.65P TF=.3N)
.MODEL Q176P PNP (BF=20 RB=100 RC=15 CJE=1P CJC=1P TF=230N)
.ENDS
*$
******************************************************************
.SUBCKT SN55183 1 2 3 4 5 6 14 7
* 1 INPUT A
* 2 INPUT B
* 3 INPUT C
* 4 INPUT D
* 5 OUTPUT Y
* 6 OUTPUT Z
* 14 VCC
* 7 GROUND
*
D1 7 1 D183
D2 7 2 D183
D3 7 3 D183
D4 7 4 D183
X1 1 2 3 4 14 11 IN183A
X2 11 6 14 7 OUT183
X3 1 2 3 4 14 12 IN183B
Q1 22 12 16 Q183  0.25
R1 14 22 3.2K
R2 16 7 2K
Q2 22 16 7 Q183  0.25
X4 22 5 14 7 OUT183
*
.MODEL D183 D (RS=25 CJO=2P)
.MODEL Q183 NPN (BF=80 BR=.3 RB=50 RC=10 CJE=.5P CJC=.5P TF=1N)
.ENDS
****************
.SUBCKT IN183A 1 2 3 4 14 8
R1 14 9 2K
Q1 8 9 1 Q183
Q2 8 9 2 Q183
Q3 8 9 3 Q183
Q4 8 9 4 Q183
*
.MODEL Q183 NPN (BF=80 BR=.3 RB=50 RC=10 CJE=.5P CJC=.5P TF=1N)
.ENDS
****************
.SUBCKT IN183B 1 2 3 4 14 8
R1 14 9 4K
Q1 8 9 1 Q183
Q2 8 9 2 Q183
Q3 8 9 3 Q183
Q4 8 9 4 Q183
*
.MODEL Q183 NPN (BF=80 BR=.3 RB=50 RC=10 CJE=.5P CJC=.5P TF=1N)
.ENDS
****************
 .SUBCKT OUT183 11 12 14 7 
D1 16 14 D183
D2  7 12 D183
R1 14 10 545
R2 13 7 300
Q1 10 11 13 Q183  0.25
Q2 14 10 17 Q183
R3 17 15 3K
Q3 10 15 12 Q183  0.25
Q4 14 17 16 Q183 4
R4 16 12 9
Q5 12 13 7 Q183 2
*
.MODEL D183 D (RS=25 CJO=2P)
.MODEL Q183 NPN (BF=80 BR=.3 RB=50 RC=10 CJE=.5P CJC=.5P TF=1N)
.ENDS
*$
